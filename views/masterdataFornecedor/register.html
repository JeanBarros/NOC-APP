<style type="text/css">
    .smart-form fieldset {
        padding-top: 0px !important;
    }
</style>
<div class="row">
    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
        <h1 class="page-title txt-color-blueDark">
            <!-- PAGE HEADER -->
            <i class="fa-fw fa fa-book"></i>Masterdata - <span data-localize="labelCadastroFornecedor">Cadastro de Fornecedor</span>
        </h1>
    </div>
</div>

<!-- widget grid -->
<section id="widget-grid" class="">
    <div class="container">
        <!-- START ROW -->
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                <div class="well no-padding">
                    <form id="masterdataSupplierRegistrationForm" name="masterdataSupplierRegistrationForm" class="smart-form client-form" ng-submit="submit()" novalidate>
                        <header>
                            <span data-localize="labelCadastroFornecedor">Cadastro de Fornecedor</span>
                        </header>
                        <fieldset>
                            <section>
                                <div class="row" ng-if="entity.Id">
                                    <div class="alert adjusted alert-info fade in" style="margin: 10px;">
                                        <span>
                                            <i class="fa-fw fa-lg fa fa-info"></i>
                                            <label data-localize="labelPedidoCorrecao" style="font-weight: bold;">Pedido de Correção</label>
                                        </span>
                                        <br />
                                        <span>{{entity.PedidoCorrecao}}</span>
                                    </div>
                                </div>
                            </section>
                            <section>
                                <div id="bootstrap-wizard-1" class="col-sm-12">
                                    <div class="form-bootstrapWizard" id="myWizard">
                                        <ul class="bootstrapWizard form-wizard" style="padding: 0 12.5%;">
                                            <li class="active" data-target="#step1">
                                                <a href="#tab1" id="htab1" data-toggle="tab"><span class="step">1</span> <span class="title" data-localize="liFornecedor">Fornecedor</span> </a>
                                            </li>
                                            <li data-target="#step2" class="disabledTab">
                                                <a href="#tab2" id="htab2" data-toggle="tab"><span class="step">2</span> <span class="title" data-localize="liRexam">Rexam</span> </a>
                                            </li>
                                            <li data-target="#step3" class="disabledTab">
                                                <a href="#tab3" id="htab3" data-toggle="tab"><span class="step">3</span> <span class="title" data-localize="liAnexos">Anexos</span> </a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="tab1">
                                            <br>
                                            <br>
                                            <h3><span data-localize="labelEtapa1"><strong>Etapa 1</strong></span> - <span data-localize="liFornecedor">Fornecedor</span></h3>
                                            <br>
                                            <fieldset>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelTipoDePessoa">Tipo de Pessoa</label>
                                                        <div class="inline-group">
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.TipoDePessoa" name="tipoDePessoa" value="F" ng-change="SetMascaraCodigoFiscal()"><i></i><span data-localize="labelFisica"> Física </span>
                                                            </label>
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.TipoDePessoa" name="tipoDePessoa" value="J" ng-change="SetMascaraCodigoFiscal()"><i></i><span data-localize="labelJuridica"> Jurídica </span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelPaisFornecedor">País do Fornecedor</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.paisDoFornecedor.$invalid && showValidation}">
                                                            <select ng-model="entity.PaisDoFornecedor" name="paisDoFornecedor" id="paisDoFornecedor" ng-options="p.Nome for p in paises | orderBy:'Nome' " required class="form-control" ng-change="paisDoFornecedorChange()">
                                                                <option value="" selected="selected" data-localize="optionPaisFornecedor">Selecione o país do fornecedor</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.paisDoFornecedor.$invalid && showValidation"><span data-localize="validacaoPaisFornecedor"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelCodigoFiscal">Código Fiscal</label>
                                                        <label class="input" ng-class="{'state-error': (masterdataSupplierRegistrationForm.codigoFiscal.$invalid && showValidation) || (masterdataSupplierRegistrationForm.codigoFiscal.$valid && cpf_cnpj_invalido) }">
                                                            <input type="text" ng-model="entity.CodigoFiscal" data-localize="placeCodigoFiscal" name="codigoFiscal" id="codigoFiscal" maxlength="20" required class="form-control" disabled ng-blur="ValidarCpfCnpf($event)">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.codigoFiscal.$invalid && showValidation"><span data-localize="validacaoCodigoFiscal">sdfsdf</span></em>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.codigoFiscal.$valid && cpf_cnpj_invalido"><span data-localize="validacaoCpfCnpj">Código Fiscal inválido </span></em>
                                                    </div>
                                                </div>
                                                <div ng-show="entity.TipoDePessoa == 'J' && entity.PaisDoFornecedor.PossuiInscricaoEstadualMunicipal">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label class="label" data-localize="labelInscricaoEstadual">Inscrição Estadual</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.inscricaoEstadual.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.InscricaoEstadual" data-localize="placeInscricaoEstadual" name="inscricaoEstadual" id="inscricaoEstadual" maxlength="20" class="form-control">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.inscricaoEstadual.$invalid && showValidation"><span data-localize="validacaoInscricaoEstadual"></span></em>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label class="label" data-localize="labelInscricaoMunicipal">Inscrição Municipal</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.inscricaoMunicipal.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.InscricaoMunicipal" data-localize="placeInscricaoMunicipal" name="inscricaoMunicipal" id="inscricaoMunicipal" maxlength="20" class="form-control">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.inscricaoMunicipal.$invalid && showValidation"><span data-localize="validacaoInscricaoMunicipal"></span></em>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelNome">Nome</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.nome.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.NomeFornecedor" data-localize="placeNome" name="nome" id="nome" required maxlength="100" class="form-control">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.nome.$invalid && showValidation"><span data-localize="data"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelNomeDeBusca">Nome de Busca</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.nomeDeBusca.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.NomeDeBusca" data-localize="placeNomeDeBusca" name="nomeDeBusca" id="nomeDeBusca" required maxlength="100" class="form-control">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.nomeDeBusca.$invalid && showValidation"><span data-localize="validacaoNomeDeBusca"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelTipoLogradouro">Tipo de Logradouro</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.tipoDeLogradouro.$invalid && showValidation}">
                                                            <select ng-model="entity.TipoDeLogradouro" name="tipoDeLogradouro" id="tipoDeLogradouro" ng-options="t.Nome for t in tiposDeLogradouro track by t.Id" required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionTipoLogradouro">Selecione o tipo de logradouro</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.tipoDeLogradouro.$invalid && showValidation"><span data-localize="validacaoTipoLogradouro"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelLogradouro">Logradouro</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.logradouro.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.Logradouro" data-localize="placeLogradouro" name="logradouro" id="logradouro" required maxlength="100" class="form-control">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.logradouro.$invalid && showValidation"><span data-localize="validacaoLogradouro"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="row">
                                                        <section class="col col-3">
                                                            <label class="label" data-localize="labelNumeroEndereco">Número</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.numeroEndereco.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.NumeroEndereco" data-localize="placeNumero" name="numeroEndereco" id="numeroEndereco" required maxlength="6" class="form-control">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.numeroEndereco.$invalid && showValidation"><span data-localize="validacaoNumero"></span></em>
                                                        </section>
                                                        <section class="col col-4">
                                                            <label class="label" data-localize="labelComplementoEndereco">Complemento</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.complementoEndereco.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.ComplementoEndereco" data-localize="placeComplemento" name="complementoEndereco" id="complementoEndereco" maxlength="100" class="form-control">
                                                            </label>
                                                        </section>
                                                        <section class="col col-5">
                                                            <label class="label" data-localize="labelBairro">Bairro</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.bairro.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.Bairro" data-localize="placeBairro" name="bairro" id="bairro" required class="form-control" maxlength="100">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.bairro.$invalid && showValidation"><span data-localize="validacaoBairro"></span></em>
                                                        </section>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="row">
                                                        <section class="col col-4">
                                                            <label class="label" data-localize="labelCEP">CEP</label>
                                                            <label class="input" ng-class="{'state-error': (masterdataSupplierRegistrationForm.cep.$invalid && showValidation) || (masterdataSupplierRegistrationForm.cep.$valid && cep_invalido) }">
                                                                <input type="text" ng-model="entity.Cep" data-localize="placeCEP" name="cep" id="cep" required class="form-control" maxlength="15" ng-blur="ValidarCep($event)">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.cep.$invalid && showValidation"><span data-localize="validacaoCEP"></span></em>
															<em class="invalid" ng-show="masterdataSupplierRegistrationForm.cep.$valid && cep_invalido"><span data-localize="validacaoCEP"></span></em>
                                                        </section>
                                                        <section class="col col-4">
                                                            <label class="label" data-localize="labelCidade">Cidade</label>
                                                            <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.cidade.$invalid && showValidation}">
                                                                <input type="text" ng-model="entity.Cidade" data-localize="placeCidade" name="cidade" id="cidade" required class="form-control" maxlength="100">
                                                            </label>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.cidade.$invalid && showValidation"><span data-localize="validacaoCidade"></span></em>
                                                        </section>
                                                        <section class="col col-4">
                                                            <label class="label" data-localize="labelRegiao">Estado</label>
                                                            <div ng-show="!mostrarDropboxRegiao">
                                                                <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.regiao.$invalid && showValidation}">
                                                                    <input type="text" disabled ng-model="entity.DcrRegiao" data-localize="placeRegiao" name="regiao" id="regiao" ng-required="!mostrarDropboxRegiao" maxlength="100" class="form-control">
                                                                </label>
                                                            </div>
                                                            <div ng-show="mostrarDropboxRegiao">
                                                                <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.regiaoddl.$invalid && showValidation}">
                                                                    <select ng-model="entity.Regiao" name="regiaoddl" id="regiaoddl" ng-options="r.Nome for r in regioes track by r.Id" ng-required="mostrarDropboxRegiao" disabled class="form-control">
                                                                        <option value="" selected="selected" data-localize="optionSelecioneRegiao">Selecione o Estado</option>
                                                                    </select>
                                                                </label>
                                                            </div>
                                                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.regiaoddl.$invalid && showValidation"><span data-localize="validacaoRegiao"></span></em>
                                                        </section>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelTelefone">Telefone</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.telefone.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.Telefone" data-localize="placeTelefone" name="telefone" id="telefone" maxlength="20" ng-change="telefoneDoFornecedorChange()" ng-focus="InputMaskTelefone()" ng-focusout="OutputMaskTelefone()" class="form-control" required>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.telefone.$invalid && showValidation"><span data-localize="validacaoTelefone"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label">E-mail</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.email.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.Email" data-localize="placeEmail" name="email" id="email" class="form-control" maxlength="100" required>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.email.$invalid && showValidation"><span data-localize="validacaoEmail"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label">E-mail NFE</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.emailNFE.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.EmailNFE" data-localize="placeEmailNFE" name="emailNFE" id="emailNFE" required class="form-control" maxlength="100">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.emailNFE.$invalid && showValidation"><span data-localize="validacaoEmailNFE"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelNomeSobrenomeContato">Nome/Sobrenome Contato</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.nomeContato.$invalid && showValidation}">
                                                            <input type="text" ng-model="entity.NomeContato" data-localize="placeNomeSobrenomeContato" name="nomeContato" id="nomeContato" required class="form-control" maxlength="100">
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.nomeContato.$invalid && showValidation"><span data-localize="validaNomeSobrenomeContato"></span></em>
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="tab-pane" id="tab2">
                                            <br>
                                            <br>
                                            <h3><span data-localize="labelEtapa2"><strong>Etapa 2</strong></span> - <span data-localize="liRexam">Rexam</span></h3>
                                            <br>
                                            <fieldset>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelPaisRexam">País da Rexam</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.paisDaRexam.$invalid && showValidation}">
                                                            <select ng-model="entity.PaisDaRexam" name="paisDaRexam" id="paisDaRexam" ng-options="p.Nome for p in paisesRexam track by p.Id" required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionSelecionePaisRexam">Selecione o país da Rexam</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.paisDaRexam.$invalid && showValidation"><span data-localize="validacaoPaisDaRexam"></span></em>
                                                    </div>
                                                </div>
                                                <!-- Empresas -->
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelEmpresas">Empresas</label>
                                                        <div class="form-group">
                                                            <button data-localize="buttonIncluirEmpresa" class="btn btn-primary btn-xm" data-toggle="modal" data-target="#cadEmpresa" id="btnCadEmpresa" disabled ng-click="atualizarEmpresas()">
                                                                Incluir Empresa
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <section class="table-responsive" ng-show="entity.ListaEmpresas.length">
                                                        <table class="table table-striped table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th></th>
                                                                    <th data-localize="thEmpresas">Empresa</th>
                                                                    <th data-localize="thOrganizacaoCompras">Organização de Compras</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="r in entity.ListaEmpresas.slice(0) track by $index">
                                                                    <td><span class="remove" ng-click="removeEmpresa($index)"><i class="fa fa-trash-o fa-lg"></i></span></td>
                                                                    <td>{{ r.DcrEmpresa }}</td>
                                                                    <td>{{ r.DcrOrganizacaoCompra }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </section>
                                                </div>

                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label">
                                                            <label data-localize="labelSetorIndustrial">Setor Industrial</label>
                                                            <label>(Industry Code)</label></label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.setorIndustrial.$invalid && showValidation}">
                                                            <select ng-model="entity.SetorIndustrial" name="setorIndustrial" id="setorIndustrial" ng-options="s.Nome for s in setoresIndustriais track by s.Id" required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionSelecioneSetorIndustrial">Selecione o setor industrial</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.setorIndustrial.$invalid && showValidation"><span data-localize="validacaoSelecioneSetorIndustrial"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row" ng-show="entity.TipoDePessoa == 'J'">
                                                    <div class="form-group">
                                                        <label class="label">
                                                            <label data-localize="labelIncotermFOB">FOB?</label><label data-localize="labelARexamNaoTeraQueDesembolsarValoresParaATransportadora">(A Rexam não terá que desembolsar valores para a transportadora)</label></label>
                                                        <div class="inline-group" ng-class="{'state-error': masterdataSupplierRegistrationForm.flgIncotermFob.$invalid && showValidation}">
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.FlgIncotermFob" name="flgIncotermFob" ng-value="true" ng-required="entity.TipoDePessoa == 'J'"><i></i><span data-localize="labelSim"> Sim </span>
                                                            </label>
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.FlgIncotermFob" name="flgIncotermFob" ng-value="false" ng-required="entity.TipoDePessoa == 'J'"><i></i><span data-localize="labelNao"> Não </span>
                                                            </label>
                                                        </div>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.flgIncotermFob.$invalid && showValidation"><span data-localize="validacaoIncotermFOB">Incoterm FOB</span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelCondicaoDePagamento">Condição de Pagamento</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.condicaoDePagamento.$invalid && showValidation}">
                                                            <select ng-model="entity.CondicaoDePagamento" name="condicaoDePagamento" id="condicaoDePagamento" ng-options="c.Nome for c in condicoesDePagamento track by c.Id" disabled required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionSelecioneCondicaoPagamento">Selecione a condição de pagamento</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.condicaoDePagamento.$invalid && showValidation"><span data-localize="validacaoCondicaoDePagamento"></span></em>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.paisDaRexam.$valid && condicoesDePagamento.length == 0"><span data-localize="validacaoNaoExistemDadosCadastrados">Não existem dados cadastrados</span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelFormaDePagamento">Forma de Pagamento</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.formaDePagamento.$invalid && showValidation}">
                                                            <select ng-model="entity.FormaDePagamento" name="formaDePagamento" id="formaDePagamento" ng-options="f.Nome for f in formasDePagamento track by f.Id" required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionSelecioneFormaDePagamento">Selecione a forma de pagamento</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.formaDePagamento.$invalid && showValidation"><span data-localize="validacaoFormaDePagamento"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelJustificativaCondicaoPagamento">Justificativa Condição Pagamento</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.justificativaCondicaoPagamento.$invalid && showValidation}">
                                                            <textarea ng-model="entity.JustificativaCondicaoPagamento" data-localize="placeJustificativaCondicaoPagamento" rows="3" maxlength="500" name="justificativaCondicaoPagamento" id="justificativaCondicaoPagamento" ng-required="entity.CondicaoDePagamento.InformarJustificativa" class="form-control"></textarea>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.justificativaCondicaoPagamento.$invalid && showValidation"><span data-localize="validacaoJustificativaCondicaoPagamento"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelJustificativaFormaPagamento">Justificativa Forma de Pagamento</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.justificativaFormaDePagamento.$invalid && showValidation}">
                                                            <textarea ng-model="entity.JustificativaFormaPagamento" data-localize="placeJustificativaFormaPagamento" rows="3" maxlength="500" name="justificativaFormaDePagamento" id="justificativaFormaDePagamento" ng-required="entity.FormaDePagamento.InformarJustificativa" class="form-control"></textarea>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.justificativaFormaDePagamento.$invalid && showValidation"><span data-localize="validacaoJustificativaFormaPagamento"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelMoeda">Moeda</label>
                                                        <label class="label" ng-class="{'state-error': masterdataSupplierRegistrationForm.moeda.$invalid && showValidation}">
                                                            <select ng-model="entity.Moeda" name="moeda" id="moeda" ng-options="m.Nome for m in moedas track by m.Id" required class="form-control">
                                                                <option value="" selected="selected" data-localize="optionSelecioneMoeda">Selecione a moeda</option>
                                                            </select>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.moeda.$invalid && showValidation"><span data-localize="validacaoSelecioneMoeda"></span></em>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelMotivoDaSolicitacao">Motivo da Solicitação</label>
                                                        <label class="input" ng-class="{'state-error': masterdataSupplierRegistrationForm.motivoDaSolicitacao.$invalid && showValidation}">
                                                            <textarea ng-model="entity.MotivoDaSolicitacao" data-localize="placeMotivoSolicitacao" maxlength="500" rows="3" name="motivoDaSolicitacao" id="motivoDaSolicitacao" class="form-control" required></textarea>
                                                        </label>
                                                        <em class="invalid" ng-show="masterdataSupplierRegistrationForm.motivoDaSolicitacao.$invalid && showValidation"><span data-localize="validacaoMotivoDaSolicitacao"></span></em>
                                                    </div>
                                                </div>

                                                <!-- Dados bancarios -->
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="label" data-localize="labelDadosBancarios">Dados Bancários</label>
                                                        <div class="form-group">
                                                            <button data-localize="buttonIncluirBanco" class="btn btn-primary btn-xm" data-toggle="modal" data-target="#cadBanco" id="btnIncluirBanco" disabled>
                                                                Incluir Banco
                                                            </button>
                                                        </div>
                                                        <label class="label" ng-class="{'state-error': showValidation && entity.FormaDePagamento.InformarDadosBancarios && $scope.entity.DadosBancarios.length == 0}">
                                                            <em class="invalid" ng-show="showValidation && entity.FormaDePagamento.InformarDadosBancarios && entity.DadosBancarios.length == 0"><span data-localize="msgDadosBancarios"></span></em>
                                                        </label>
                                                    </div>
                                                    <section class="table-responsive" ng-show="entity.DadosBancarios.length">
                                                        <table class="table table-striped table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th></th>
                                                                    <th data-localize="thBanco">Banco</th>
                                                                    <th data-localize="thAgencia">Agência</th>
                                                                    <th data-localize="thContaCorrente">Conta Corrente</th>
                                                                    <th data-localize="thCBU">CBU</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="r in entity.DadosBancarios.slice(0) track by $index">
                                                                    <td><span class="remove" ng-click="removeBanco($index)"><i class="fa fa-trash-o fa-lg"></i></span></td>
                                                                    <td>{{ r.DcrBanco }}</td>
                                                                    <td>{{ r.Agencia }}<label ng-show="r.AgenciaDigito.length">-{{ r.AgenciaDigito }}</label></td>
                                                                    <td>{{ r.ContaCorrente }}<label ng-show="r.ContaDigito.length">-{{ r.ContaDigito }}</label></td>
                                                                    <td>{{ r.CBU }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </section>
                                                </div>
												<!--<div class="row">
                                                    <div class="form-group">
                                                        <label class="label">Grupo de esquema</label>
                                                        <label class="label">
                                                            <select ng-model="entity.GrpEsqFornecedor" name="grpEsqFornecedor" id="grpEsqFornecedor" ng-options="g.Nome for g in grpsEsqFornecedor track by g.Id" required class="form-control">
                                                                <option value="" selected="selected" >Selecione o grupo de esquema</option>
                                                            </select>
                                                        </label>
                                                    </div>
                                                </div>-->
                                            </fieldset>
                                        </div>
                                        <div class="tab-pane" id="tab3">
                                            <br>
                                            <br>
                                            <h3><span data-localize="labelEtapa3"><strong>Etapa 3</strong></span> - <span data-localize="liAnexos">Anexos</span></h3>
                                            <br>
                                            <fieldset>
                                                <!-- alteracao -->
                                                <div ng-repeat="anexo in entity.ListaAnexos.slice(0) track by $index">
                                                    <div class="row">
                                                        <section class="col col-6">
                                                            <label class="label" data-localize="labelCodigoFiscal" ng-if="anexo.DcrTipoDocumento == 'CodigoFiscal'">Código Fiscal</label>
                                                            <label class="label" data-localize="labelCartaAutorizacao" ng-if="anexo.DcrTipoDocumento == 'CartaAutorizacao'">Carta Autorização</label>
                                                            <label class="label" data-localize="labelDocumentoBancario" ng-if="anexo.DcrTipoDocumento == 'DocumentoBancario'">Documento Bancário</label>
                                                            <label class="label" data-localize="labelInscricaoMunicipal" ng-if="anexo.DcrTipoDocumento == 'InscricaoMunicipal'">Inscrição Municipal</label>
                                                            <label class="label" data-localize="labelInscricaoEstadual" ng-if="anexo.DcrTipoDocumento == 'InscricaoEstadual'">Inscrição Estadual</label>
                                                        </section>
                                                        <section class="col col-6" ng-if="anexo.DcrTipoDocumento != 'Outros'">
                                                            <span><a target="_blank" href="{{ '/files/' + anexo.NomeArquivo }}" download="{{ anexo.NomeArquivo }}"><span>{{ anexo.NomeArquivo }}</span> </a></span><span class="remove" ng-click="removeArquivo($index)"><i class="fa fa-trash-o fa-lg"></i></span>
                                                        </section>
                                                    </div>
                                                </div>
                                                <!-- fim alteracao -->
                                                <!--inclusao-->
                                                <div>
                                                    <div class="row" ng-if="!InArray(entity.ListaAnexos, 'CodigoFiscal')">
                                                        <div class="row">
                                                            <section class="col col-6">
                                                                <label class="label" data-localize="labelCodigoFiscal">Código Fiscal</label>
                                                            </section>
                                                            <section class="col col-6">
                                                                <label ng-class="{'state-error': masterdataSupplierRegistrationForm.ArquivoCodigoFiscal.$invalid && showValidation}">
                                                                    <input type="file" ng-model="entity.ArquivoCodigoFiscal" valid-file required id="ArquivoCodigoFiscal" name="ArquivoCodigoFiscal" onchange="angular.element(this).scope().SetArquivo(this, 'CodigoFiscal')" />
                                                                </label>
                                                                <em class="invalid" ng-show="masterdataSupplierRegistrationForm.ArquivoCodigoFiscal.$invalid && showValidation"><span data-localize="validacaoSelecioneArquivoCodigoFiscal">Selecione um arquivo do tipo Código Fiscal</span></em>
                                                            </section>
                                                        </div>
                                                    </div>
                                                    <div class="row" ng-if="!InArray(entity.ListaAnexos, 'CartaAutorizacao')">
                                                        <div class="row">
                                                            <section class="col col-6">
                                                                <label class="label" data-localize="labelCartaAutorizacao">Carta Autorização</label>
                                                            </section>
                                                            <section class="col col-6">
                                                                <label ng-class="{'state-error': masterdataSupplierRegistrationForm.ArquivoCartaAutorizacao.$invalid && showValidation}">
                                                                    <input type="file" ng-model="ArquivoCartaAutorizacao" valid-file id="ArquivoCartaAutorizacao" name="ArquivoCartaAutorizacao" onchange="angular.element(this).scope().SetArquivo(this, 'CartaAutorizacao')" />
                                                                </label>
                                                                <em class="invalid" ng-show="masterdataSupplierRegistrationForm.ArquivoCartaAutorizacao.$invalid && showValidation"><span data-localize="validacaoSelecioneArquivoTipoCartaAutorizacao">Selecione um arquivo do tipo Carta Autorização</span></em>
                                                            </section>
                                                        </div>
                                                    </div>
                                                    <div class="row" ng-if="!InArray(entity.ListaAnexos, 'DocumentoBancario')">
                                                        <div class="row">
                                                            <section class="col col-6">
                                                                <label class="label" data-localize="labelDocumentoBancario">Documento Bancário</label>
                                                                <label data-localize="labelExDocumentoBancario">(Ex: Cópia de cheque; Extrato bancário contendo NOME AG e CC)</label>
                                                            </section>
                                                            <section class="col col-6">
                                                                <label ng-class="{'state-error': masterdataSupplierRegistrationForm.ArquivoDocumentoBancario.$invalid && showValidation}">
                                                                    <input type="file" ng-model="entity.ArquivoDocumentoBancario" valid-file ng-required="entity.FormaDePagamento.InformarDadosBancarios" id="ArquivoDocumentoBancario" name="ArquivoDocumentoBancario" onchange="angular.element(this).scope().SetArquivo(this, 'DocumentoBancario')" />
                                                                </label>
                                                                <em class="invalid" ng-show="masterdataSupplierRegistrationForm.ArquivoDocumentoBancario.$invalid && showValidation"><span data-localize="validacaoSelecioneArquivoTipoDocumentoBancario">Selecione um arquivo do tipo Documento Bancário</span></em>
                                                            </section>
                                                        </div>
                                                    </div>
                                                    <div class="row" ng-if="!InArray(entity.ListaAnexos, 'InscricaoMunicipal') && entity.TipoDePessoa == 'J' && entity.PaisDoFornecedor.PossuiInscricaoEstadualMunicipal">
                                                        <div class="row">
                                                            <section class="col col-6">
                                                                <label class="label" data-localize="labelInscricaoMunicipal">Inscrição Municipal</label>
                                                            </section>
                                                            <section class="col col-6">
                                                                <label ng-class="{'state-error': masterdataSupplierRegistrationForm.ArquivoInscricaoMunicipal.$invalid && showValidation}">
                                                                    <input type="file" ng-model="entity.ArquivoInscricaoMunicipal" valid-file id="ArquivoInscricaoMunicipal" name="ArquivoInscricaoMunicipal" onchange="angular.element(this).scope().SetArquivo(this, 'InscricaoMunicipal')" />
                                                                </label>
                                                                <em class="invalid" ng-show="masterdataSupplierRegistrationForm.ArquivoInscricaoMunicipal.$invalid && showValidation"><span data-localize="validacaoSelecioneArquivoTipoInscricaoMunicipal">Selecione um arquivo do tipo Inscrição Municipal</span></em>
                                                            </section>
                                                        </div>
                                                    </div>
                                                    <div class="row" ng-if="!InArray(entity.ListaAnexos, 'InscricaoEstadual') && entity.TipoDePessoa == 'J' && entity.PaisDoFornecedor.PossuiInscricaoEstadualMunicipal">
                                                        <div class="row">
                                                            <section class="col col-6">
                                                                <label class="label" data-localize="labelInscricaoEstadual">Inscrição Estadual</label>
                                                            </section>
                                                            <section class="col col-6">
                                                                <label ng-class="{'state-error': masterdataSupplierRegistrationForm.ArquivoInscricaoEstadual.$invalid && showValidation}">
                                                                    <input type="file" ng-model="entity.ArquivoInscricaoEstadual" valid-file id="ArquivoInscricaoEstadual" name="ArquivoInscricaoEstadual" onchange="angular.element(this).scope().SetArquivo(this, 'InscricaoEstadual')" />
                                                                </label>
                                                                <em class="invalid" ng-show="masterdataSupplierRegistrationForm.ArquivoInscricaoEstadual.$invalid && showValidation"><span data-localize="validacaoSelecioneArquivoTipoInscricaoEstadual">Selecione um arquivo do tipo Inscrição Estadual</span></em>
                                                            </section>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--fim inclusao-->
                                                <file-upload></file-upload>
                                                <div ng-show="entity.ListaAnexos.length">
                                                    <div ng-repeat="anexo in entity.ListaAnexos.slice(0) track by $index" ng-if="anexo.DcrTipoDocumento == 'Outros'">
                                                        <span><a target="_blank" href="{{ '/files/' + anexo.NomeArquivo }}" download="{{ anexo.NomeArquivo }}"><span>{{ anexo.NomeArquivo }}</span> </a><span class="remove" ng-click="removeArquivo($index)"><i class="fa fa-trash-o fa-lg"></i></span></span>
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <br>
                                        <br>
                                        <div class="col-sm-12">
                                            <ul class="pager wizard no-margin">
                                                <li class="previous disabled">
                                                    <a href="javascript:void(0);" class="btn btn-lg btn-default"><span data-localize="liAnterior">Anterior </span></a>
                                                </li>
                                                <li class="next">
                                                    <a href="javascript:void(0);" class="btn btn-lg txt-color-darken" data-localize="liProximo">Próximo</a>
                                                </li>
                                                <li class="next finish" style="display: none;">
                                                    <a href="javascript:void(0);" id="salvarWizard" class="btn btn-lg txt-color-darken" ng-click="submit()"><span data-localize="liSalvar">Enviar</span></a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br />
</section>
<!-- end widget grid -->
<!--cadastro de empresa-->
<div class="modal fade" id="cadEmpresa" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel" data-localize="tituloNovaEmpresa">Nova Empresa</h4>
            </div>
            <div class="modal-body smart-form client-form">
                <fieldset>
                    <div class="row">
                        <section>
                            <label class="label" data-localize="labelEmpresas">Empresas</label>
                            <label class="label" ng-class="{'state-error': showValidationEmpresa && !entityEmpresa.empresa.Id}">
                                <select ng-model="entityEmpresa.empresa" name="empresa" id="empresa" ng-options="e.Nome for e in empresas track by e.Id" required class="form-control">
                                    <option value="" selected="selected" data-localize="optionSelecioneEmpresas">Selecione uma ou mais empresas</option>
                                </select>
                            </label>
                            <em class="invalid" ng-show="showValidationEmpresa && !entityEmpresa.empresa.Id"><span data-localize="validacaoSelecioneEmpresa">Selecione uma empresa</span></em>
                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.paisDaRexam.$valid && empresas.length == 0"><span data-localize="validacaoNaoExistemDadosCadastrados">Não existem dados cadastrados</span></em>
                        </section>
                    </div>
                    <div class="row">
                        <section>
                            <label class="label" data-localize="labelOrganizaçãoCompra">Organização de compra</label>
                            <label class="label" ng-class="{'state-error': showValidationEmpresa && !entityEmpresa.organizacaoCompra.Id}">
                                <select ng-model="entityEmpresa.organizacaoCompra" name="organizacaoCompra" id="organizacaoCompra" ng-options="c.Nome for c in organizacaoDeCompra track by c.Id" disabled required class="form-control">
                                    <option value="" selected="selected" data-localize="optionOrganizacaoCompra">Selecione a organização de compra</option>
                                </select>
                            </label>
                            <em class="invalid" ng-show="showValidationEmpresa && !entityEmpresa.organizacaoCompra.Id"><span data-localize="validacaoOrganizacaoCompra">Selecione a organização de compra</span></em>
                        </section>
                    </div>
                </fieldset>
            </div>
            <div class="modal-footer">
                <button type="button"  data-localize="buttonCancelar" class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button type="button"  data-localize="liSalvar" class="btn btn-primary" ng-click="IncluirEmpresa()">
                    Salvar
                </button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!--Dados Bancarios-->
<div class="modal fade" id="cadBanco" tabindex="-1" role="dialog" aria-labelledby="myModalLabelDB" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabelDB" data-localize="tituloNovoBanco">Novo Banco</h4>
            </div>
            <div class="modal-body smart-form client-form">
                <fieldset>
                    <div class="row">
                        <section>
                            <label class="label" data-localize="labelBanco">Banco</label>
                            <label class="label" ng-class="{'state-error': showValidationBanco && !entityDadosBancario.banco.Id}">
                                <select ng-model="entityDadosBancario.banco" name="banco" id="banco" ng-options="b.Nome for b in bancos track by b.Id" required class="form-control">
                                    <option value="" selected="selected" data-localize="optionSelecioneBanco">Selecione um ou mais banco</option>
                                </select>
                            </label>
                            <em class="invalid" ng-show="showValidationBanco && !entityDadosBancario.banco.Id"><span data-localize="validacaoSelecioneBanco">Selecione o banco</span></em>
                            <em class="invalid" ng-show="masterdataSupplierRegistrationForm.paisDoFornecedor.$valid && bancos.length == 0"><span data-localize="validacaoNaoExistemDadosCadastrados">Não existem dados cadastrados</span></em>
                        </section>
                    </div>
                    <div class="row">
                        <div class="row">
                            <section class="col col-4">
                                <label class="label" data-localize="labelAgenciaComDigito">Agência</label>
                                <label class="input" ng-class="{'state-error': showValidationBanco && !entityDadosBancario.agencia}">
                                    <input type="text" ng-model="entityDadosBancario.agencia" maxlength="10" name="agencia" id="agencia" required class="form-control">
                                </label>
                                <em class="invalid" ng-show="showValidationBanco && !entityDadosBancario.agencia"><span data-localize="validacaoAgenciaComDigito">Informe a Agência</span></em>
                            </section>
							<section class="col col-2">
								<label class="label" data-localize="LabelDigito">Dígito</label>
								<label class="input">
									<input type="text" ng-model="entityDadosBancario.agenciaDigito" maxlength="5" width="5" name="agenciaDigito" id="agenciaDigito" class="form-control">
								</label>
                            </section>
                            <section class="col col-4">
                                <label class="label" data-localize="labelContaCorrenteComDigito">Conta corrente</label>
                                <label class="input" ng-class="{'state-error': showValidationBanco && !entityDadosBancario.contaCorrente}">
                                    <input type="text" ng-model="entityDadosBancario.contaCorrente" maxlength="20" name="contaCorrente" id="contaCorrente" required class="form-control">
                                </label>
                                <em class="invalid" ng-show="showValidationBanco && !entityDadosBancario.contaCorrente"><span data-localize="validacaoContaCorrenteComDigito">Informe a Agência</span></em>
                            </section>
							<section class="col col-2">
								<label class="label" data-localize="LabelDigito">Dígito</label>
								<label class="input">
									<input type="text" ng-model="entityDadosBancario.contaDigito" maxlength="5" width="5" name="contaDigito" id="contaDigito" class="form-control">
								</label>
                            </section>
                        </div>
                    </div>
                    <div class="row">
                        <section>
                            <label class="label">
                                <label data-localize="labelCBU">CBU</label>
                                <label data-localize="obsCbuBancos">(Obrigatório apenas para Argentina e Peru)</label>
                            </label>
                            <label class="input">
                                <input type="text" ng-model="entityDadosBancario.cbu" name="cbu" id="cbu" maxlength="50" class="form-control">
                            </label>
                        </section>
                    </div>
                </fieldset>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" data-localize="buttonCancelar">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" ng-click="IncluirBanco()" data-localize="buttonSalvar">
                    Salvar
                </button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
